<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-item lines="none">
      <ion-label style="font-weight: 800;font-size: 3em;">
        Today
        <p style="font-weight: 400;color: #433465 ;">{{today | date:'fullDate'}}</p>
      </ion-label>
    </ion-item>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">

  <ion-card *ngFor="let task of taskList; let i = index" class="ion-margin">
    <ion-card-header>
      <!-- Task Category with Priority Color -->
      <ion-card-subtitle [style.color]="task.value.taskPriority === 'high' ? 'red' : (task.value.taskPriority === 'low' ? 'green' : 'orange')">
        {{task.value.taskCategory}}
      </ion-card-subtitle>

      <!-- Task Name with Priority Icon -->
      <ion-item lines="none">
        <ion-icon slot="start" *ngIf="task.value.taskPriority === 'high'" color="danger" size="small" name="ellipse"></ion-icon>
        <ion-icon slot="start" *ngIf="task.value.taskPriority === 'low'" color="success" size="small" name="ellipse"></ion-icon>
        <ion-icon slot="start" *ngIf="task.value.taskPriority === 'middle'" color="warning" size="small" name="ellipse"></ion-icon>
        <ion-label>{{task.value.taskName}}</ion-label>
      </ion-item>
    </ion-card-header>

    <!-- Due Date -->
    <ion-card-content>
      <ion-label>Due {{task.value.taskDueDate | date:'fullDate'}}</ion-label>
    </ion-card-content>

    <!-- Action Buttons with Better Alignment -->
    <ion-row class="ion-justify-content-around ion-padding-bottom">
      <ion-button color="primary" fill="outline" (click)="update(task)">
        <ion-icon slot="start" name="create-outline"></ion-icon>
        Update
      </ion-button>

      <ion-button color="danger" fill="outline" (click)="delete(task.key)" >
        <ion-icon slot="start" name="trash-outline"></ion-icon>
        Cancel
      </ion-button>
    </ion-row>
  </ion-card>

  <!-- Floating Action Button for Add -->
  <ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button (click)="addTask()">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>

</ion-content>
